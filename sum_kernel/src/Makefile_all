FC=mpif90
FFLAGS=-O3

OBJS =  sum_kernels.o exit_mpi.o

OBJS_PRE =  sum_preconditioning_event_kernels.o exit_mpi.o

all: sum_kernels sum_preconditioning_event_kernels

sum_kernels:  $(OBJS)
	$(FC) $(FFLAGS) -o $@ $(OBJS)

sum_preconditioning_event_kernels:  $(OBJS_PRE)
	$(FC) $(FFLAGS) -o $@ $(OBJS_PRE)

.SUFFIXES: .o .f90
.f90.o:
	$(FC) $(FFLAGS) -c $<


clean:
	rm -rf *.o *~ sum_preconditioning_event_kernels sum_kernels
